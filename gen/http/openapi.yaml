swagger: "2.0"
info:
  title: Space CMS API Service
  description: Auth service for SpaceCMS. An open source content management system.
  version: ""
host: localhost:8000
consumes:
- application/json
- application/xml
- application/gob
produces:
- application/json
- application/xml
- application/gob
paths:
  /api/v1/openapi.json:
    get:
      tags:
      - auth
      summary: Download ./gen/http/openapi.json
      operationId: auth#/api/v1/openapi.json
      responses:
        "200":
          description: File downloaded
          schema:
            type: file
      schemes:
      - http
  /api/v1/pages:
    post:
      tags:
      - cms
      summary: CreatePage cms
      description: Create an account by email address and password.
      operationId: cms#CreatePage
      parameters:
      - name: Authorization
        in: header
        description: JWT used for authentication
        required: false
        type: string
      - name: CreatePageRequestBody
        in: body
        required: true
        schema:
          $ref: '#/definitions/CmsCreatePageRequestBody'
          required:
          - id
          - url
          - templateId
          - isActive
          - meta
          - createdAt
      responses:
        "201":
          description: Created response.
          schema:
            $ref: '#/definitions/CmsCreatePageResponseBody'
            required:
            - id
            - url
            - templateId
            - isActive
            - meta
            - createdAt
        "400":
          description: Bad Request response.
          schema:
            $ref: '#/definitions/CmsCreatePageBadrequestResponseBody'
        "401":
          description: Unauthorized response.
          schema:
            $ref: '#/definitions/CmsCreatePageUnauthorizedResponseBody'
        "404":
          description: Not Found response.
          schema:
            $ref: '#/definitions/CmsCreatePageNotfoundResponseBody'
        "500":
          description: Internal Server Error response.
          schema:
            $ref: '#/definitions/CmsCreatePageServererrorResponseBody'
      schemes:
      - http
      security:
      - jwt_header_Authorization: []
  /api/v1/user/signup:
    post:
      tags:
      - auth
      summary: CreateAccount auth
      description: Create an account by email address and password.
      operationId: auth#CreateAccount
      parameters:
      - name: CreateAccountRequestBody
        in: body
        required: true
        schema:
          $ref: '#/definitions/AuthCreateAccountRequestBody'
          required:
          - email
          - name
          - password
      responses:
        "201":
          description: Created response.
        "400":
          description: Bad Request response.
          schema:
            $ref: '#/definitions/AuthCreateAccountBadrequestResponseBody'
        "401":
          description: Unauthorized response.
          schema:
            $ref: '#/definitions/AuthCreateAccountUnauthorizedResponseBody'
        "404":
          description: Not Found response.
          schema:
            $ref: '#/definitions/AuthCreateAccountNotfoundResponseBody'
        "500":
          description: Internal Server Error response.
          schema:
            $ref: '#/definitions/AuthCreateAccountServererrorResponseBody'
      schemes:
      - http
  /api/v1/user/tokens:
    post:
      tags:
      - auth
      summary: GrantToken auth
      description: Create an account by email address and password.
      operationId: auth#GrantToken
      parameters:
      - name: GrantTokenRequestBody
        in: body
        required: true
        schema:
          $ref: '#/definitions/AuthGrantTokenRequestBody'
          required:
          - email
          - password
      responses:
        "200":
          description: OK response.
          schema:
            $ref: '#/definitions/AuthGrantTokenResponseBody'
            required:
            - accessToken
            - refreshToken
            - accessExpiryTime
            - refreshExpiryTime
            - accessExpiryTimeStamp
            - refreshExpiryTimeStamp
        "400":
          description: Bad Request response.
          schema:
            $ref: '#/definitions/AuthGrantTokenBadrequestResponseBody'
        "401":
          description: Unauthorized response.
          schema:
            $ref: '#/definitions/AuthGrantTokenUnauthorizedResponseBody'
        "404":
          description: Not Found response.
          schema:
            $ref: '#/definitions/AuthGrantTokenNotfoundResponseBody'
        "500":
          description: Internal Server Error response.
          schema:
            $ref: '#/definitions/AuthGrantTokenServererrorResponseBody'
      schemes:
      - http
definitions:
  AuthCreateAccountBadrequestResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: false
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: CreateAccount_badrequest_Response_Body result type (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: true
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  AuthCreateAccountNotfoundResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: CreateAccount_notfound_Response_Body result type (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: true
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  AuthCreateAccountRequestBody:
    title: AuthCreateAccountRequestBody
    type: object
    properties:
      email:
        type: string
        description: Email address of the user
        example: Odio itaque aut.
      id:
        type: string
        description: ID of the user
        example: Recusandae maiores qui dolore.
      name:
        type: string
        description: Full name of the user
        example: At vero.
      password:
        type: string
        description: Password of the user. This is never returned to the client.
        example: Ab sint optio omnis doloribus minima officiis.
    example:
      email: Nihil repellat voluptatem eos quidem voluptatem.
      id: Aut itaque a consequatur eos nisi et.
      name: Dolorem quos iure qui.
      password: Nobis deleniti voluptatibus.
    required:
    - email
    - name
    - password
  AuthCreateAccountServererrorResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: false
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: CreateAccount_servererror_Response_Body result type (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: false
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  AuthCreateAccountUnauthorizedResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: CreateAccount_unauthorized_Response_Body result type (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: true
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  AuthGrantTokenBadrequestResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: false
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: GrantToken_badrequest_Response_Body result type (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: true
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  AuthGrantTokenNotfoundResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: GrantToken_notfound_Response_Body result type (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: false
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  AuthGrantTokenRequestBody:
    title: AuthGrantTokenRequestBody
    type: object
    properties:
      email:
        type: string
        description: User email
        example: Et voluptas deserunt nostrum quia.
      password:
        type: string
        description: User password
        example: Dolorum dignissimos maiores.
    example:
      email: Esse occaecati neque ab veritatis.
      password: Fugit provident illo aut qui voluptatibus placeat.
    required:
    - email
    - password
  AuthGrantTokenResponseBody:
    title: AuthGrantTokenResponseBody
    type: object
    properties:
      accessExpiryTime:
        type: integer
        example: 8505135574392211969
        format: int64
      accessExpiryTimeStamp:
        type: string
        example: Commodi rerum quae odio sed aperiam.
      accessToken:
        type: string
        example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzaWQiOiJkYmViMjlhYTMyYjg0MTMxYTA0NjY4MDAyNzAxNWEwZSIsInJvbGUiOlsiQWRtaW5pc3RyYXRvcnMiLCJSZWdpc3RlcmVkIFVzZXJzIiwiU3Vic2NyaWJlcnMiXSwiaXNzIjoidGVzdHNpdGVjZS5sdmgubWUiLCJleHAiOjE0NTA4MzU2ODMsIm5iZiI6MTQ1MDgzMTc4M30.Yf3mmBJ8nV_IozqvvLc8L34dDklU2J7z0uXn3jsICp0
      refreshExpiryTime:
        type: integer
        example: 9108043585995435558
        format: int64
      refreshExpiryTimeStamp:
        type: string
        example: Et doloribus numquam.
      refreshToken:
        type: string
        example: Repellat tenetur explicabo velit.
    example:
      accessExpiryTime: 4086347885084357892
      accessExpiryTimeStamp: Totam soluta sit.
      accessToken: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzaWQiOiJkYmViMjlhYTMyYjg0MTMxYTA0NjY4MDAyNzAxNWEwZSIsInJvbGUiOlsiQWRtaW5pc3RyYXRvcnMiLCJSZWdpc3RlcmVkIFVzZXJzIiwiU3Vic2NyaWJlcnMiXSwiaXNzIjoidGVzdHNpdGVjZS5sdmgubWUiLCJleHAiOjE0NTA4MzU2ODMsIm5iZiI6MTQ1MDgzMTc4M30.Yf3mmBJ8nV_IozqvvLc8L34dDklU2J7z0uXn3jsICp0
      refreshExpiryTime: 2374654136629067163
      refreshExpiryTimeStamp: Vero voluptate atque et ut.
      refreshToken: Quis nostrum.
    required:
    - accessToken
    - refreshToken
    - accessExpiryTime
    - refreshExpiryTime
    - accessExpiryTimeStamp
    - refreshExpiryTimeStamp
  AuthGrantTokenServererrorResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: false
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: GrantToken_servererror_Response_Body result type (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: false
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  AuthGrantTokenUnauthorizedResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: GrantToken_unauthorized_Response_Body result type (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: true
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  CmsCreatePageBadrequestResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: CreatePage_badrequest_Response_Body result type (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: false
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  CmsCreatePageNotfoundResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: CreatePage_notfound_Response_Body result type (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: true
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  CmsCreatePageRequestBody:
    title: CmsCreatePageRequestBody
    type: object
    properties:
      createdAt:
        type: string
        example: "2002-08-17T23:14:35Z"
        format: date-time
      id:
        type: string
        description: Page UUID
        example: 7D80331A-7620-D09D-7CCB-2EF87B797732
        format: uuid
      isActive:
        type: boolean
        description: Page active
        example: true
      meta:
        $ref: '#/definitions/MetaRequestBody'
      templateId:
        type: string
        description: Page template UUID
        example: Et ad facilis quibusdam.
      url:
        type: string
        description: Page URL
        example: Eum voluptas commodi necessitatibus illum praesentium.
    example:
      createdAt: "1980-12-22T12:07:43Z"
      id: A45D83CF-F038-77BB-220E-D79EFC31D198
      isActive: true
      meta:
        description: Excepturi non occaecati odit voluptates deleniti.
        title: Dolores optio.
      templateId: Labore placeat impedit.
      url: Occaecati ducimus corporis molestiae.
    required:
    - id
    - url
    - templateId
    - isActive
    - meta
    - createdAt
  CmsCreatePageResponseBody:
    title: CmsCreatePageResponseBody
    type: object
    properties:
      createdAt:
        type: string
        example: "2008-08-02T23:51:45Z"
        format: date-time
      id:
        type: string
        description: Page UUID
        example: 2C91774A-6D4A-67B6-DC43-6AED849DACC1
        format: uuid
      isActive:
        type: boolean
        description: Page active
        example: true
      meta:
        $ref: '#/definitions/MetaResponseBody'
      templateId:
        type: string
        description: Page template UUID
        example: Soluta voluptatum facere qui ut non.
      url:
        type: string
        description: Page URL
        example: Incidunt quibusdam cum mollitia possimus officia.
    example:
      createdAt: "2002-03-31T10:39:05Z"
      id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
      isActive: true
      meta:
        description: Placeat et non hic voluptatum.
        title: Rerum et deserunt saepe quia.
      templateId: Corporis quis.
      url: Vel ducimus nulla et libero doloribus qui.
    required:
    - id
    - url
    - templateId
    - isActive
    - meta
    - createdAt
  CmsCreatePageServererrorResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: false
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: CreatePage_servererror_Response_Body result type (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: true
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  CmsCreatePageUnauthorizedResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: false
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the
          problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence
          of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: CreatePage_unauthorized_Response_Body result type (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: true
    required:
    - name
    - id
    - message
    - temporary
    - timeout
    - fault
  MetaRequestBody:
    title: MetaRequestBody
    type: object
    properties:
      description:
        type: string
        description: Page meta description
        example: Doloremque ratione.
      title:
        type: string
        description: Page meta title
        example: Aut similique reprehenderit laudantium et adipisci.
    example:
      description: Qui voluptatem quaerat in quibusdam aut.
      title: Non et sapiente provident corrupti et voluptatibus.
  MetaResponseBody:
    title: MetaResponseBody
    type: object
    properties:
      description:
        type: string
        description: Page meta description
        example: Voluptates quia ab.
      title:
        type: string
        description: Page meta title
        example: Iste omnis saepe.
    example:
      description: Sit ad facilis neque eum.
      title: Consequatur minus voluptatum incidunt.
securityDefinitions:
  jwt_header_Authorization:
    type: apiKey
    description: |-
      Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes "api:read" and "api:write".

      **Security Scopes**:
        * `api:read`: Read-only access
        * `api:write`: Read and write access
    name: Authorization
    in: header
